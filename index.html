<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>器具員数確認</title>
<style>
body{margin:0;background:#111;color:#fff;font-family:-apple-system}
header{padding:10px 12px;border-bottom:1px solid #333;color:#bbb;font-size:14px}
main{padding:14px;max-width:560px;margin:auto}
.card{border:1px solid #333;border-radius:12px;padding:14px;margin-bottom:12px}
button{width:100%;padding:14px;font-size:18px;border-radius:12px;background:#1a1a1a;color:#fff;border:1px solid #333}
.toast{position:fixed;top:40%;left:50%;transform:translate(-50%,-50%);background:#000;border:1px solid #333;padding:18px 22px;border-radius:12px}
</style>
</head>
<body>
<header id="hdr"></header>
<main id="app"></main>

<script>
const app=document.getElementById("app");
const hdr=document.getElementById("hdr");

/* ★通信・GASを完全に使わない */
const p=new URLSearchParams(location.search);
const site=p.get("site")||"未指定";
const tool=p.get("tool")||"未指定";

function toast(t){
  const d=document.createElement("div");
  d.className="toast";
  d.textContent=t;
  document.body.appendChild(d);
  setTimeout(()=>d.remove(),2000);
}

/* ★ここで必ず描画する */
function ui(){
  app.innerHTML=`
    <div class="card">
      <h2>UI描画テスト</h2>
      <div>現場：${site}</div>
      <div>道具：${tool}</div>
      <button onclick="toast('タップ反応OK')">持ち出し</button>
    </div>
  `;
}

/* render */
hdr.textContent=`現場：${site}　道具：${tool}`;
ui();   // ★強制描画
</script>
</body>
</html>
